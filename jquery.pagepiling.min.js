(function(c,a,b,d){c.fn.pagepiling=function(I){var f=c.fn.pagepiling;var O=c(this);var m;var M=0;var p=(("ontouchstart" in b)||(navigator.msMaxTouchPoints>0)||(navigator.maxTouchPoints));var D=0,G=0,g=0,i=0;var e={up:true,down:true,left:true,right:true};var B=600;var H=c.extend(true,{direction:"vertical",menu:null,verticalCentered:true,sectionsColor:[],anchors:[],scrollingSpeed:700,easing:"easeInQuart",loopBottom:false,loopTop:false,css3:true,navigation:{textColor:"#000",bulletsColor:"#000",position:"right",tooltips:[]},normalScrollElements:null,normalScrollElementTouchThreshold:5,touchSensitivity:5,keyboardScrolling:true,sectionSelector:".section",animateAnchor:false,afterLoad:null,onLeave:null,afterRender:null},I);c.extend(c.easing,{easeInQuart:function(ad,ae,ac,ag,af){return ag*(ae/=af)*ae*ae*ae+ac}});f.setScrollingSpeed=function(ac){H.scrollingSpeed=ac};f.setMouseWheelScrolling=function(ac){if(ac){L()}else{r()}};f.setAllowScrolling=function(ac){if(ac){f.setMouseWheelScrolling(true);o()}else{f.setMouseWheelScrolling(false);Z()}};f.setKeyboardScrolling=function(ac){H.keyboardScrolling=ac};f.moveSectionUp=function(){var ac=c(".pp-section.active").prev(".pp-section");if(!ac.length&&H.loopTop){ac=c(".pp-section").last()}if(ac.length){x(ac)}};f.moveSectionDown=function(){var ac=c(".pp-section.active").next(".pp-section");if(!ac.length&&H.loopBottom){ac=c(".pp-section").first()}if(ac.length){x(ac)}};f.moveTo=function(ad){var ac="";if(isNaN(ad)){ac=c('[data-anchor="'+ad+'"]')}else{ac=c(".pp-section").eq((ad-1))}if(ac.length>0){x(ac)}};c(H.sectionSelector).each(function(){c(this).addClass("pp-section")});if(H.css3){H.css3=K()}c(O).css({overflow:"hidden","-ms-touch-action":"none","touch-action":"none"});f.setAllowScrolling(true);if(!c.isEmptyObject(H.navigation)){W()}var u=c(".pp-section").length;c(".pp-section").each(function(ac){c(this).data("data-index",ac);c(this).css("z-index",u);if(!ac&&c(".pp-section.active").length===0){c(this).addClass("active")}if(typeof H.anchors[ac]!=="undefined"){c(this).attr("data-anchor",H.anchors[ac])}if(typeof H.sectionsColor[ac]!=="undefined"){c(this).css("background-color",H.sectionsColor[ac])}if(H.verticalCentered&&!c(this).hasClass("pp-scrollable")){z(c(this))}u=u-1}).promise().done(function(){if(H.navigation){c("#pp-nav").css("margin-top","-"+(c("#pp-nav").height()/2)+"px");c("#pp-nav").find("li").eq(c(".pp-section.active").index(".pp-section")).find("a").addClass("active")}c(b).on("load",function(){h()});c.isFunction(H.afterRender)&&H.afterRender.call(this)});function z(ac){ac.addClass("pp-table").wrapInner('<div class="pp-tableCell" style="height:100%" />')}function N(ad){var ac=c(".pp-section.active").index(".pp-section");var ae=ad.index(".pp-section");if(ac>ae){return"up"}return"down"}function x(ac,af){var ad={destination:ac,animated:af,activeSection:c(".pp-section.active"),anchorLink:ac.data("anchor"),sectionIndex:ac.index(".pp-section"),toMove:ac,yMovement:N(ac),leavingSection:c(".pp-section.active").index(".pp-section")+1};if(ad.activeSection.is(ac)){return}if(typeof ad.animated==="undefined"){ad.animated=true}if(typeof ad.anchorLink!=="undefined"){A(ad.anchorLink,ad.sectionIndex)}ad.destination.addClass("active").siblings().removeClass("active");ad.sectionsToMove=P(ad);if(ad.yMovement==="down"){ad.translate3d=y();ad.scrolling="-100%";if(!H.css3){ad.sectionsToMove.each(function(ag){if(ag!=ad.activeSection.index(".pp-section")){c(this).css(s(ad.scrolling))}})}ad.animateSection=ad.activeSection}else{ad.translate3d="translate3d(0px, 0px, 0px)";ad.scrolling="0";ad.animateSection=ac}c.isFunction(H.onLeave)&&H.onLeave.call(this,ad.leavingSection,(ad.sectionIndex+1),ad.yMovement);j(ad);k(ad.anchorLink);v(ad.anchorLink,ad.sectionIndex);m=ad.anchorLink;var ae=new Date().getTime();M=ae}function j(ac){if(H.css3){T(ac.animateSection,ac.translate3d,ac.animated);ac.sectionsToMove.each(function(){T(c(this),ac.translate3d,ac.animated)});setTimeout(function(){S(ac)},H.scrollingSpeed)}else{ac.scrollOptions=s(ac.scrolling);if(ac.animated){ac.animateSection.animate(ac.scrollOptions,H.scrollingSpeed,H.easing,function(){aa(ac);S(ac)})}else{ac.animateSection.css(s(ac.scrolling));setTimeout(function(){aa(ac);S(ac)},400)}}}function S(ac){c.isFunction(H.afterLoad)&&H.afterLoad.call(this,ac.anchorLink,(ac.sectionIndex+1))}function P(ac){var ad;if(ac.yMovement==="down"){ad=c(".pp-section").map(function(ae){if(ae<ac.destination.index(".pp-section")){return c(this)}})}else{ad=c(".pp-section").map(function(ae){if(ae>ac.destination.index(".pp-section")){return c(this)}})}return ad}function aa(ac){if(ac.yMovement==="up"){ac.sectionsToMove.each(function(ad){c(this).css(s(ac.scrolling))})}}function s(ac){if(H.direction==="vertical"){return{top:ac}}return{left:ac}}function E(ac,ad){if(H.css3){T(ac,y(),false)}else{ac.css(s(ad))}}function A(ac,ad){if(H.anchors.length){location.hash=ac;Q(location.hash)}else{Q(String(ad))}}function Q(ac){ac=ac.replace("#","");c("body")[0].className=c("body")[0].className.replace(/\b\s?pp-viewing-[^\s]+\b/g,"");c("body").addClass("pp-viewing-"+ac)}function h(){var ad=b.location.hash.replace("#","");var ac=ad;var ae=c('.pp-section[data-anchor="'+ac+'"]');if(ae.length>0){x(ae,H.animateAnchor)}}function l(){var ac=new Date().getTime();if(ac-M<B+H.scrollingSpeed){return true}return false}c(b).on("hashchange",Y);function Y(){var ad=b.location.hash.replace("#","").split("/");var ac=ad[0];if(ac.length){if(ac&&ac!==m){var ae;if(isNaN(ac)){ae=c('[data-anchor="'+ac+'"]')}else{ae=c(".pp-section").eq((ac-1))}x(ae)}}}function n(ac){return{"-webkit-transform":ac,"-moz-transform":ac,"-ms-transform":ac,transform:ac}}function T(ad,ac,ae){ad.toggleClass("pp-easing",ae);ad.css(n(ac))}c(a).keydown(function(ac){if(H.keyboardScrolling&&!l()){switch(ac.which){case 38:case 33:f.moveSectionUp();break;case 40:case 34:f.moveSectionDown();break;case 36:f.moveTo(1);break;case 35:f.moveTo(c(".pp-section").length);break;case 37:f.moveSectionUp();break;case 39:f.moveSectionDown();break;default:return}}});if(H.normalScrollElements){c(a).on("mouseenter",H.normalScrollElements,function(){f.setMouseWheelScrolling(false)});c(a).on("mouseleave",H.normalScrollElements,function(){f.setMouseWheelScrolling(true)})}function X(ae){if(!l()){ae=b.event||ae;var af=Math.max(-1,Math.min(1,(ae.wheelDelta||-ae.deltaY||-ae.detail)));var ac=c(".pp-section.active");var ad=R(ac);if(af<0){ab("down",ad)}else{ab("up",ad)}return false}}function ab(ae,af){if(!e[ae]){return}var ac,ad;if(ae=="down"){ac="bottom";ad=f.moveSectionDown}else{ac="top";ad=f.moveSectionUp}if(af.length>0){if(U(ac,af)){ad()}else{return true}}else{ad()}}function U(ac,ad){if(ac==="top"){return !ad.scrollTop()}else{if(ac==="bottom"){return ad.scrollTop()+1+ad.innerHeight()>=ad[0].scrollHeight}}}function R(ac){return ac.filter(".pp-scrollable")}function r(){if(O.get(0).addEventListener){O.get(0).removeEventListener("mousewheel",X,false);O.get(0).removeEventListener("wheel",X,false)}else{O.get(0).detachEvent("onmousewheel",X)}}function L(){if(O.get(0).addEventListener){O.get(0).addEventListener("mousewheel",X,false);O.get(0).addEventListener("wheel",X,false)}else{O.get(0).attachEvent("onmousewheel",X)}}function o(){if(p){var ac=t();O.off("touchstart "+ac.down).on("touchstart "+ac.down,C);O.off("touchmove "+ac.move).on("touchmove "+ac.move,J)}}function Z(){if(p){var ac=t();O.off("touchstart "+ac.down);O.off("touchmove "+ac.move)}}function t(){var ac;if(b.PointerEvent){ac={down:"pointerdown",move:"pointermove",up:"pointerup"}}else{ac={down:"MSPointerDown",move:"MSPointerMove",up:"MSPointerUp"}}return ac}function w(ad){var ac=new Array();ac.y=(typeof ad.pageY!=="undefined"&&(ad.pageY||ad.pageX)?ad.pageY:ad.touches[0].pageY);ac.x=(typeof ad.pageX!=="undefined"&&(ad.pageY||ad.pageX)?ad.pageX:ad.touches[0].pageX);return ac}function F(ac){return typeof ac.pointerType==="undefined"||ac.pointerType!="mouse"}function C(ad){var ae=ad.originalEvent;if(F(ae)){var ac=w(ae);D=ac.y;G=ac.x}}function V(ac,ad){switch(ad){case"up":e.up=ac;break;case"down":e.down=ac;break;case"left":e.left=ac;break;case"right":e.right=ac;break;case"all":f.setAllowScrolling(ac)}}function J(ae){var ag=ae.originalEvent;if(!q(ae.target)&&F(ag)){ae.preventDefault();var ac=c(".pp-section.active");var af=R(ac);if(!l()){var ad=w(ag);g=ad.y;i=ad.x;if(H.direction==="horizontal"&&Math.abs(G-i)>(Math.abs(D-g))){if(Math.abs(G-i)>(O.width()/100*H.touchSensitivity)){if(G>i){ab("down",af)}else{if(i>G){ab("up",af)}}}}else{if(Math.abs(D-g)>(O.height()/100*H.touchSensitivity)){if(D>g){ab("down",af)}else{if(g>D){ab("up",af)}}}}}}}function q(ae,ac){ac=ac||0;var ad=c(ae).parent();if(ac<H.normalScrollElementTouchThreshold&&ad.is(H.normalScrollElements)){return true}else{if(ac==H.normalScrollElementTouchThreshold){return false}else{return q(ad,++ac)}}}function W(){c("body").append('<div id="pp-nav"><ul></ul></div>');var af=c("#pp-nav");af.css("color",H.navigation.textColor);af.addClass(H.navigation.position);for(var ac=0;ac<c(".pp-section").length;ac++){var ad="";if(H.anchors.length){ad=H.anchors[ac]}if(H.navigation.tooltips!=="undefined"){var ae=H.navigation.tooltips[ac];if(typeof ae==="undefined"){ae=""}}af.find("ul").append('<li data-tooltip="'+ae+'"><a href="#'+ad+'"><span></span></a></li>')}af.find("span").css("border-color",H.navigation.bulletsColor)}c(a).on("click touchstart","#pp-nav a",function(ad){ad.preventDefault();var ac=c(this).parent().index();x(c(".pp-section").eq(ac))});c(a).on({mouseenter:function(){var ac=c(this).data("tooltip");c('<div class="pp-tooltip '+H.navigation.position+'">'+ac+"</div>").hide().appendTo(c(this)).fadeIn(200)},mouseleave:function(){c(this).find(".pp-tooltip").fadeOut(200,function(){c(this).remove()})}},"#pp-nav li");function v(ac,ad){if(H.navigation){c("#pp-nav").find(".active").removeClass("active");if(ac){c("#pp-nav").find('a[href="#'+ac+'"]').addClass("active")}else{c("#pp-nav").find("li").eq(ad).find("a").addClass("active")}}}function k(ac){if(H.menu){c(H.menu).find(".active").removeClass("active");c(H.menu).find('[data-menuanchor="'+ac+'"]').addClass("active")}}function K(){var ae=a.createElement("p"),af,ad={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};a.body.insertBefore(ae,null);for(var ac in ad){if(ae.style[ac]!==d){ae.style[ac]="translate3d(1px,1px,1px)";af=b.getComputedStyle(ae).getPropertyValue(ad[ac])}}a.body.removeChild(ae);return(af!==d&&af.length>0&&af!=="none")}function y(){if(H.direction!=="vertical"){return"translate3d(-100%, 0px, 0px)"}return"translate3d(0px, -100%, 0px)"}}})(jQuery,document,window);